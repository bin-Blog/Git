var data = {  "img": [    {"src": '0.jpg'},    {"src": '1.jpg'},    {"src": '2.jpg'},    {"src": '3.jpg'},    {"src": '4.jpg'},    {"src": '5.jpg'},    {"src": '6.jpg'},    {"src": '7.jpg'},    {"src": '8.jpg'},    {"src": '9.jpg'},    {"src": '10.jpg'},    {"src": '11.jpg'},    {"src": '12.jpg'},    {"src": '13.jpg'},    {"src": '14.jpg'},    {"src": '15.jpg'},    {"src": '16.jpg'},    {"src": '17.jpg'},    {"src": '18.jpg'},  ]};window.onload = function () {  render();  window.onscroll = function () {    if (checkScrollSlide()) {      // 将数据块渲染到页面尾部      render();    }  }}function getByClass(parent, clsName) {  var boxArr = [];  oElements = parent.getElementsByTagName('*');  for (var i = 0; i < oElements.length; i++) {     if (oElements[i].className == clsName) {       boxArr.push(oElements[i]);     }  }  return boxArr;}function getMinHIndex(arr, val) {  for (var i in arr) {    if ( arr[i] == val ) {      return i;    }  }}// 检测是否具备加载数据块的条件function checkScrollSlide() {  var oParent = document.getElementById('main');  var oBoxes = getByClass(oParent, 'box');  var lastBoxH = oBoxes[oBoxes.length - 1].offsetTop + Math.floor(oBoxes[oBoxes.length-1].offsetHeight/2);  var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;  var height = document.body.clientHeight || document.documentElement.clientHeight;  return (lastBoxH < scrollTop + height) ? true : false;}  function render() {    var oMain = document.getElementById('main');    for (var i = 0; i < data.img.length; i++) {      var oBox = document.createElement('div');      oBox.className = 'box';      oMain.appendChild(oBox);      var oPic = document.createElement('div');      oPic.className = 'pic';      oBox.appendChild(oPic);      var oImg = document.createElement('img');      oImg.src = 'images/' + data.img[i].src;      oPic.appendChild(oImg);    }  }