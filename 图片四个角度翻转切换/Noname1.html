<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Document</title>
  <style type="text/css">
		*{
			margin: 0;
			padding: 0;
		}
		li{
			list-style: none;
		}
		#box{
			width: 1000px;
			height: 573px;
			margin: 150px auto;
		}
		#box ul li{
			position: relative;
			width: 216px;
			height: 169px;
			margin-right: 32px;
			margin-bottom: 32px;
			float: left;
			overflow: hidden;
		}
		#box ul li a{
			width: 100%;
			height: 100%;
			display: block;
			position: absolute;
			left: 0;
			top: 0;
		}
		#box ul li a span{
			width: 100%;
			height: 100%;
			display: block;
			position: absolute;
			left: 0;
			top: 0;
		}
		.front-face {
			z-index: 2;
			background: url('images/majors.png') no-repeat 0 0;
		}
		.back-face{
			background: url('images/majors_back.jpg') no-repeat 0 0;
			z-index: 1;
			
			
		}
		/*从顶部*/
		.from-top{
			transform-origin: 0% 0%;
			animation: from-top 0.23s ease-out;
			z-index: 3;
		}
		@keyframes from-top{
			from{
				z-index: 3;
				transform:  rotate(-90deg);
			}
			to{
				z-index: 3;
				transform:  rotate(0deg);
			}
		}
		.to-top{
			transform-origin: 0% 0%;
			animation: to-top 0.23s ease-out;
		}
		@keyframes to-top{
			from{
				z-index: 3;
				transform: rotate(0);
			}
			to{
				z-index: 3;
				transform: rotate(-90deg);
			}
		}
		/*从底部*/
		.from-bottom{
			transform-origin: 0% 100%;
			animation: from-bottom 0.23s ease-out;
			z-index: 3;
		}
		@keyframes from-bottom{
			from{
				z-index: 3;
				transform:  rotate(90deg);
			}
			to{
				z-index: 3;
				transform:  rotate(0deg);
			}
		}
		.to-bottom{
			transform-origin: 0% 100%;
			animation: to-bottom 0.23s ease-out;
		}
		@keyframes to-bottom{
			from{
				z-index: 3;
				transform: rotate(0);
			}
			to{
				z-index: 3;
				transform: rotate(90deg);
			}
		}
		/*从左部*/
		.from-left{
			transform-origin: 0% 100%;
			animation: from-left 0.23s ease-out;
			z-index: 3;
		}
		@keyframes from-left{
			from{
				z-index: 3;
				transform:  rotate(-90deg);
			}
			to{
				z-index: 3;
				transform:  rotate(0deg);
			}
		}
		.to-left{
			transform-origin: 0% 100%;
			animation: to-left 0.23s ease-out;
		}
		@keyframes to-left{
			from{
				z-index: 3;
				transform: rotate(0deg);
			}
			to{
				z-index: 3;
				transform: rotate(-90deg);
			}
		}
		/*从右部*/
		.from-right{
			transform-origin: 100% 100%;
			animation: from-right 0.23s ease-out;
			z-index: 3;
		}
		@keyframes from-right{
			from{
				z-index: 3;
				transform:  rotate(90deg);
			}
			to{
				z-index: 3;
				transform:  rotate(0deg);
			}
		}
		.to-right{
			transform-origin: 100% 100%;
			animation: to-right 0.23s ease-out;
		}
		@keyframes to-right{
			from{
				z-index: 3;
				transform: rotate(0deg);
			}
			to{
				z-index: 3;
				transform: rotate(90deg);
			}
		}
  </style>
 </head>
 <body>
		<div id='box'>
			<ul>
				<li>
					<a href="#">
						<span class="front-face"></span>
						<span class="back-face"></span>
					</a>
				</li>
				<li>
					<a href="#">
						<span class="front-face"></span>
						<span class="back-face"></span>
					</a>
				</li>
				<li>
					<a href="#">
						<span class="front-face"></span>
						<span class="back-face"></span>
					</a>
				</li>
				<li>
					<a href="#">
						<span class="front-face"></span>
						<span class="back-face"></span>
					</a>
				</li>
				<li>
					<a href="#">
						<span class="front-face"></span>
						<span class="back-face"></span>
					</a>
				</li>
				<li>
					<a href="#">
						<span class="front-face"></span>
						<span class="back-face"></span>
					</a>
				</li>
				<li>
					<a href="#">
						<span class="front-face"></span>
						<span class="back-face"></span>
					</a>
				</li>
				<li>
					<a href="#">
						<span class="front-face"></span>
						<span class="back-face"></span>
					</a>
				</li>
				<li>
					<a href="#">
						<span class="front-face"></span>
						<span class="back-face"></span>
					</a>
				</li><li>
					<a href="#">
						<span class="front-face"></span>
						<span class="back-face"></span>
					</a>
				</li>
				<li>
					<a href="#">
						<span class="front-face"></span>
						<span class="back-face"></span>
					</a>
				</li>
				<li>
					<a href="#">
						<span class="front-face"></span>
						<span class="back-face"></span>
					</a>
				</li>
			</ul>
		</div>
		<script type="text/javascript">
			window.onload=function(){
				var oBox=document.getElementById('box');
				var span1=document.getElementsByClassName('front-face');
				var span2=document.getElementsByClassName('back-face');
				var aLi=oBox.getElementsByTagName('li');
				var numX=4,
					numY=3;
				var liW=oBox.clientWidth/numX-33;
				var liH=oBox.clientHeight/numY-21;
				var con='';
				var oUl=oBox.getElementsByTagName('ul')[0];
				//li布局
				/*for (var i=0;i<numX*numY ;i++ )
				{
					oUl.innerHTML+='<li>\
							<a href="#">\
								<span class="front-face"></span>\
								<span class="back-face"></span>\
							</a>\
						</li>';
				}*/
				
				for (var i=0;i<span1.length ;i++ )
				{
					i%=numX*numY;
					var iX=i%numX;
					var iY=parseInt(i/numX);
					span1[i].style.backgroundPosition= '' + (-liW*iX) + 'px '+(-liH*iY) + 'px';
					span2[i].style.backgroundPosition= '' + (-liW*iX) + 'px '+(-liH*iY) + 'px';
				}
				
				for (var i=0;i<aLi.length ;i++ )
				{
					aLi[i].onmouseenter=function(e){
						e=e||event;
						move.call(this,e,true);
					}
					aLi[i].onmouseleave=function(e){
						e=e||event;
						move.call(this,e,false);
					}
				}
				function move(e,bool){
					var top = this.offsetTop;
					var bottom = top + this.clientHeight;
					var left = this.offsetLeft;
					var right = left + this.offsetWidth;
					var x = e.pageX;
					var y = e.pageY;

					var sT=Math.abs(y-top);
					var sB=Math.abs(y-bottom);
					var sL=Math.abs(x-left);
					var sR=Math.abs(x-right);
					var a = Math.min(sT,sB,sL,sR);
					switch(a){
						case sT:
							if(bool)
							{
								this.children[0].children[1].className='back-face from-top';
							}
							else
							{
								this.children[0].children[1].className='back-face to-top';
							}
							break;
						case sB:
							if(bool)
							{
								this.children[0].children[1].className='back-face from-bottom';
							}
							else
							{
								this.children[0].children[1].className='back-face to-bottom';
							}
							break;
						case sL:
							if(bool)
							{
								this.children[0].children[1].className='back-face from-left';
							}
							else
							{
								this.children[0].children[1].className='back-face to-left';
							}
							break;
						case sR:
							if(bool)
							{
								this.children[0].children[1].className='back-face from-right';
							}
							else
							{
								this.children[0].children[1].className='back-face to-right';
							}
							break;
					}
				}
			}
		</script>
 </body>
</html>
